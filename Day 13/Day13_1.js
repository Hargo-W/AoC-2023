const input = `...##....
.#.##.#..
.#....#..
.##..##..
...##....
..####.##
#..##..##

##...##..
.##.#..#.
.#.......
...#.##.#
##..#..#.
.##..##..
.#...##..
#.#######
....####.
..##.##.#
..##.##.#
....####.
#.#######
.#...##..
.##..##..
#...#..#.
...#.##.#

...#...##...###
##.#.##.#..#.##
####.##.#..#.##
#.#.##.###.#.##
#...##.##...#.#
##..#.###...#..
#...####.###...
#.#####...##.##
#.#####...##.##
#...####.###...
##..#.###...#..
#...##.##...#.#
#.#.##.###.#.##
####.##.#..#.##
##.#.##.#..#.##

.....#.
###.###
##.#.##
..#..##
..###..
..###..
..#..##
##.#.##
###.###
.....##
###..#.
..#..##
##.####

....#....##....
.##..##.####.##
#..#.#...##...#
.##.####....###
#..#.##.####.##
#..###.#.##.#.#
.##.##.##..####

..##..##..#.#.#
.####......#.#.
.#.#.###...#..#
.##.#..##.....#
..#.#.##..###.#
..#.#.##..###.#
.##.#..##.....#
.#.#.###...#..#
.####......#.#.
..##..##..#.#.#
#...#..#...#...
.#.#.##..##...#
.#.#.##..###..#

#...##...#.#.##.#
#...##...#.#.####
#.##..##.##.##.#.
............###.#
....##.....###.##
#..#..#..#.##....
#.#....#.#..##.##
..######...####.#
#.#....#.#..#####
.#.####.#.#.###..
.##.##.##..#...##

##.##....##.##...
##....##....##.##
#.##..##..##.##..
.##.#.##.#.##.#..
..##.....###...##
####.#..#.####.##
.#..........#....
#####.##.######..
#..#.####.#..#...

#.##..###.#..
.#...###...#.
##...####....
####..#.#.#..
#.....##..###
#.....##..###
####..#.#.#..
##...####..#.
.#...###...#.
#.##..###.#..
###.#.####..#
.##.#.#...###
#.##.######.#
#..#.......#.
#..#.......#.

###...##...##
...#..#####.#
###.##.#.....
..#...#...###
..##.###.....
....#...#...#
#####...##.##
....#.##.####
....#.##.##.#

..##..###...#....
##..#######...###
##..###.......#.#
..##..#.#....####
########...###...
.####........#...
.####.#..##...###
.#..#...###.#.###
.####.#.###.##...
#.##.#..####.#...
#.##.#..##...#...

#.#....#.##
..#....#...
..#....#...
#.#....#.##
##......##.
.#.####.#..
####.#####.

...##...#..#.
########...#.
.######..#...
..#..#.....##
#.#..#.#####.
##....##.####
..####...###.
#.#..#.##.#.#
#......#.###.
.#.##.#.####.
.#.##.#.####.
#......#.###.
#.#..#.#..#.#

##....#.##.##.##.
####......#..#...
#...###..######..
#...#.##..#..#..#
.#.##.#.########.
.#.##.#.########.
....#.##..#..#..#

###..##.#
##.#..##.
##..#....
....#....
..#......
..##..##.
##.#.#..#

.....#...#.
..##...#...
##..###...#
.#..#.#.###
#.##.#.##..
.#..#.##.##
#######.##.
.........##
..##....#.#
.......#..#
.#..#.####.
#....#####.
#.##.#..#.#
#.##.#..#.#
#....#####.
.#..#.####.
.......#..#

#.####.
#.####.
...#...
##...##
....#..
#....#.
.#..#..
#..#.##
#.#....
.#..#.#
.#..#.#
#.#...#
#..#.##

.##..##..#.##
#..#..#..#.##
....####.####
....###.##.##
.####..##.###
.....#...#.##
#..##.##...##
####.###.....
.##..#....###
#..#..#..####
.##.#####.#..
......###.###
#..#####..#..
#..##.....###
#..#..#.#..##

.###..##..###
.#.#.#..#.#.#
....##..##...
....##..##...
##.#.#..#.#.#
.###..##..###
###.#....#.##

##.########.##.
###.#.#..#.####
..#...##...#..#
###.##..##.###.
#.#.##..##.#.#.
.##.#.##.#.##.#
.##.#.##.#.##.#

.#..##.
..#..##
###.###
###.###
..#..##
.#..##.
.#.##..
#...##.
#...##.
.#.##..
.#..##.
#.#..##
###.###

......#.#.#.#
......#.#.#.#
#..##...##..#
#..##..##..#.
..#.##.##.##.
#..##..#..#.#
#..#.#..#####
#..#.##.##..#
....####..##.
.##..#..##.#.
####.#...##..
.....#.####.#
#..#....###..

.#...#.#...##..
#....#.#.......
..##.#.....##..
####.###..####.
.#.#.#...#.....
##...###.......
..##.#.########
.####.....#..#.
.#.#..##.......
##.#..#.##.##.#
..#....#.#....#
..#....#.#....#
##.#..#.##.##.#
.#.#..##.......
.####.....#..#.
..##.#.########
##...###.......

.......#.#.####
.......#.#.####
..##..####.##.#
#...####.####.#
##..##.####.##.
#....##.#.###..
.####..#...#.#.
#.##.#.##.##..#
..##.......#.#.
#....##..#..#.#
..##...##..##.#
#######.#....##
#.##.#..##.#.#.

....##..#
..#.##..#
..#.###.#
#......##
...##....
.##..#.#.
#.#.#....
#..#....#
.##.###..
###.#.##.
###.#.##.

######.
.###...
##.##.#
#..##..
#..##..
##.##.#
.###...
######.
...#...
..##.##
##...##
##....#
..##.##
...#...
######.
.###...
##.##.#

....###.#..
.##.##.####
.##.##.####
....#####..
######.#..#
#####..#.#.
....##...#.
.##.##.#..#
.##.##..#.#
#..#.#.#.##
.##..###.##
....###...#
.##.##.#...
####.#.#.#.
#..#.##..#.

##..#.##.#.#..#..
..#....#..##.##.#
...##...####..###
###..#.#..#.##.##
###..#....#.##.##
...##...####..###
..#....#..##.##.#
##..#.##.#.#..#..
..#.##..#.#..#..#
..##..#...#....##
..####..##.....##

.......####..#..#
.##.#....###..##.
###..#.###.###..#
##.##...#########
....###......#..#
.#.########...##.
#.......###.####.
#...##..##.##.##.
#.#.#.#....#.....
##....###..###..#
..#.##.###.#.####
..#.##.###.#.####
##....###..###..#
#.#.#.#....#.....
#...##..##.##.##.

###..##
..#.#.#
####.#.
...#..#
##.#..#
##.#.##
...#..#
####.#.
..#.#.#

####...
...##..
###..##
##.###.
##.###.
###..##
...##..
####...
#.##...
....#..
##..###

.###...##
.###...##
.##.##.#.
....##..#
##.###.#.
.#..##..#
###.#..##
#.#.####.
#.#.####.
###.#..##
.#...#..#
##.###.#.
....##..#
.##.##.#.
.###...##

#.##.##.#..#.##.#
..##.##.####.##.#
#.###############
..#..............
#.#..##......##..
.#.##..##..##..##
#........##......
##.#..#.#..#.#..#
....####....####.
#....##......##..
...#.##.#..#.##.#
##..####.##.####.
#..#....#..#....#
.#..#..#.##.#..#.
.....##......##..

.#....#.#...##...
.#.##.#..#.####.#
#..##..#.#.#..#.#
##.##.##..##..##.
###..######.##.##
########.#.#..#.#
...##...#..####..
#......#.#......#
.##..##...##..###

..##.#.#.##.#.#
..##.#.#.##.#.#
##..#....##.###
...#..#.#..#...
.#.####..####..
..##.##..####.#
##....#.##.#.#.
...#.#...#####.
...#.#####...#.
###...#..###..#
..........###..

##....##....##.
##....##....##.
#.#.#....#.#.#.
##..##...#..##.
####......####.
#.#...##...#.##
.#####..#####..

......###..
.#..#.####.
.#..#.###..
.####...###
.####...###
.#..#.###..
.#..#.####.
......###..
..##..##...
##..###..##
.####...#..
##..###.#.#
..##...##..
##..#####.#
###.##.#...

......##.#.#.
.#.....#...#.
###.#..#...##
#..#.##.#...#
#..#.####...#
###.#..#...##
.#.....#...#.
......##.#.#.
##.######...#
...#...##.###
#....#####..#
..##..#..##.#
#.####..#.###
.##...###.#..
.#..#.###.##.
.#..#.###.##.
.##...###.#..

.###..###.##.
###.###..#.#.
..###......#.
#..#..#.#...#
.#..#.....#.#
.#.#...##.#.#
##...##..##.#
##...##..##.#
.#.#...##.#.#
.#.##.....#.#
#..#..#.#...#
..###......#.
###.###..#.#.
.###..###.##.
.###..###.##.

###.####.##
##........#
#..........
#.########.
..##....##.
.#.#.##.#.#
.#........#
#.........#
.##......##
###..##..##
#####..####
#####..####
###..##..##

##.#.#..#..
....#...##.
##..#.#..#.
...######..
#######..##
##.##..#.##
..#..####.#
###...##...
......##.#.
###.#..#..#
..##..###..
...#.#.##.#
...#.#.##.#
..##.####..
###.#..#..#
......##.#.
###...##...

#####.#.##...#.
......######...
#...#.#.#.#..##
..####.#.#.##.#
..######.#.##.#
#...#.#.#.#..##
......######...
#####.#.##...#.
.#...##..###...
.#...##..###...
#####.#.##...#.

####.#.
#..####
#..#..#
#..#..#
.##.#..
.##..##
...#..#
....##.
#..####
#..####
....##.

###...##.###...##
###.####...####.#
...#..#.##.#.##..
...#..#.##.#.##..
###.####...####.#
###...##.###...##
.#.#.#.##.#....##
.#.#.#.##.#....##
###...##.#.#...##

.##.....#
........#
#####..#.
#####..#.
####..###
....##...
....####.
#..###..#
.##..##.#
.##..##.#
#..###..#
....###..
....##...
####..###
#####..#.
#####..#.
........#

.#...##
.#...##
##.....
.#.####
##.##..
#....#.
.####..
#....#.
#....#.
.####.#
#....#.
##.##..
.#.####

..#.#.##...
..#.#.###..
##.##..###.
..####...#.
##.#....###
.#...#####.
..#.##.###.
.#....##...
.#..#.##..#
.#..#.##..#
.#....##...
..#.##.###.
.#...#####.
##.#....###
..####...#.

####.#####....#
#..#.###..#..#.
####.####....##
#######..###.##
#..###..##....#
.##..###.#...##
.##..###.#...##
#..###..##....#
#####.#..###.##
####.####....##
#..#.###..#..#.
####.#####....#
.##.####.##.#.#

####.##
..##.#.
..##...
.#.....
....##.
##..#.#
###...#
##.##.#
..##...
..##...
##.##.#

#.#.#.#.....##...
..#...#...#....#.
.##..##..##.##.##
...#.##.##......#
###..##.#.#.##.#.
.##.####..#....#.
.###..##.........
..#.###..#.####.#
.#...#.#..#.##.#.
###...######..###
#.#####...######.
###.###.#..####..
##..##.###..#...#
##..#..##.######.
##..#..##.######.

.###.#..#.###..##
####.#..#.#######
.##..#..#..#....#
##.#.####.#.####.
...#......#......
....#....#.......
......##.........
#.##..##..##.##.#
.##.######.##..##

...######...#.#
...######...#.#
..###..###....#
.##.####.##..##
.#.######.#....
###.#..#.##..##
#.#..##..#.###.
.##......##.###
###.####.###.##
.#..####..#...#
.###.##.###.###
##.######.###.#
#..##..##..#.#.

....##.....##..##
.##.##.##..#....#
..#....#.....##..
.##.##.##..#....#
##########.......
###########.####.
..#.##.#..#.#..#.
#..####..###....#
..##..##.........
..##..##...######
#........#.#....#
#.######.####..##
.###..###..#.##.#
.##....##...#..#.
....##...#.#.##.#

.##...#..####
.....####..##
#######.#..#.
#..###.#.###.
#..#.##...###
#########.#..
#..#..##...##
.##..##.#####
#..#..#..##..
#######.##.#.
####..#......
#..##.#...##.
.##...#.#..##
.##...#.#..#.
#..##.#...##.

###.#........
..#.##.......
##.##..#.....
.##.##..#####
.#....#..####
##...#..#....
###..########
.###..#..#..#
.#.#.#.......
######.......
#...#..######
.##....######
#...#.#.#####
.#.#...######
####..#..####

###....
###....
.####..
#.#.##.
..##..#
.##.#.#
#.####.
##.#.##
#.##.##
.#....#
.#.#.#.
.#..#.#
#..####
#..####
.#..#.#
.#.#.#.
.#.#..#

####..##.
.##..#..#
....#.###
....#.##.
....#.#..
.##..###.
.##..###.
....#.#..
....#.##.
....#.###
.##..#..#
####..##.
##.###...
#..#...#.
####.....

##....#####
.######.#..
#..##..#...
#..##..####
.######....
.#......#..
..#..#..###

###.#...###
...####...#
..#..#..#.#
..##.#.#..#
###.##..###
###..#....#
##...#....#
###.##..###
..##.#.#..#
..#..#..#.#
...####...#
###.#...###
..####.#.#.

...#.##..#...#...
#.#...###.##.####
....#.#.##.#.##..
.....#.#.####.#..
.#.#.#.##..#.####
.#.#...##..#.####
.....#.#.####.#..
....#.#.##.#.##..
#.#...###.##.####
...#.##..#...#...
...#....###...#..
#..###.......##..
.#.###.#.###.####

...####..
.##....##
.########
##......#
#..#..#..
....##...
#..####..

####..##.##
###.#...##.
....#..####
#...##..#..
..#..#...#.
..#..#...#.
#...##..#..
....#..####
###.#...##.
####..##.##
..###...##.
#.#.#.##.#.
.####..#...
..###..#...
#.#.#.##.#.

.....####.....#..
##.#.#..#.#.##...
.#.#......#.#.###
...###..###...#..
.#..######..#.#..
####.####.#####..
...###..###...#..
#............#.##
..#.#.##.#.#.#...
#..###..###..#...
...#......#....##
##...####...##.##
#...##..##...#.##

.####..###.
.##.###.#..
.##.###.#..
.####..###.
#.#.#.#.###
####.####..
#.....##.#.
#.....##.#.
####.####..
#.#.###.###
.####..###.

.....#..#..
#..###..###
####......#
.##.#.##.#.
#..#######.
#..#..##..#
.....#..#..

##..#....
...#.#.##
###...###
....###..
##..###..
###.###..
###....##
#....#...
####...##
##.###...
.......##
..#.###..
##..###..
...#..###
###...###

..#.##.#...####
##.#..#.##.####
.###..###......
.##....##...#..
..##..##...####
..#....#.....##
#.#..#.#.#..#..
..#.##.#...#...
#...##...##..##
.##....##.#####
#...##...#..###
.#..##..#.###..
#...##...##..##

#....#.#.
###..###.
###..###.
#....#.#.
#.#.#..#.
...##..#.
.#..###.#
#...#....
#...##...
##.###..#
#..##.##.
#..##.##.
##.###..#
#....#...
#...#....
.#..###.#
...##..#.

.#...#.#.
#.##.##..
####..#..
.#.######
...##.###
...##.###
.#.#####.
####..#..
#.##.##..
.#...#.#.
.#...#.#.

####.#..#.#####.#
##.##....##.####.
#..#.####.#..##..
#####....########
###..####..######
#####....########
#.##..##..##.##.#
##.#..##..#.####.
#..#......#..##..
..##......##....#
#............##..
##.##....##.####.
...#......#......
....#.##.#.......
.####....####..##
.#..........#..#.
.##.#.##.#.##..##

#..#...##..
..######.##
..######.##
#..#..###..
....#.#....
##....##...
#.#.#.##..#
#.#.#.##..#
##....##...
....#.#....
#..#..###..

#..#..#..#...
..##..##..##.
..#.##.#..#.#
############.
#.######.##..
#.######.#.##
#.######.#..#
#.######.##..
############.

..##..###.#..#.
...#......#..#.
#.##.......##..
.....##.#.#..#.
.....##.#.#..#.
#.##.......##..
...#......#..#.
..##..###.#..#.
#.#.##...##..##
#####.##..#..#.
#......##......
#.#..##.###...#
##.#......#..#.
##..#.#...#..#.
.#.###...######

##..#.#..##..###.
.##.#.#.#..##..#.
...#...##.#..#.##
.##.##...##..##..
.##.##...##..##..
...#...##.#..#.##
.##.#.#.#..##..#.

.#.####..####.#..
#.###.####.###.##
####..#..#..#####
..#.##.##.##.#...
#.##.#.##.#..#.##
#..#..####..#..##
#.####.##.####.##
##.###....###.###
##.#.#....#.#.###
..##...##...##...
..###..##..###...

..#.#...##....#..
####..#..#..###.#
#####.#..#..###.#
..#.#...##....#..
##.#.##.....###..
..####.########..
...##.##.#####.#.
..#.#......#....#
##..####.#.......
..##...#...#.##.#
....#.##....#..##

.#.##.##..#
####.#..##.
##..##.####
##..##.####
####.#..##.
...##.##..#
.#.........

##.#..#.#
#.#.#..##
#####.##.
##..##...
##..##...
#####..#.
#.#.#..##
##.#..#.#
.##..##..
.##..##..
##.#..#.#

###...##....#.###
#.#..#.#.#.###..#
.##.#.#.#.##.#.#.
.##.#.#.#.##.#.#.
#.#..#.#.#.###.##
###...##....#.###
...#.#.#.##..##.#
#....####..##.#..
#....####..##.#..
...#.#.#.##..##.#
###...##....#.###

..#####..
.###.....
#..###...
####.#...
###..#...
#..###...
.###.....
..#####..
#.#.#####
..#.#####
##.#.####

...#....#####..
..###..#...#.##
##..#.###.#....
##....##.###...
..#..#...#.....
#..#.##.##.##..
.#.#..##.#.#.##
##..###.....#..
.##.##...##.#..
##...##..##.###
##.#.##..##.###

...####..##.##.
...#..#####....
##..####.###..#
##..#####...##.
...#..#.#.#....
..#..#.#.......
....#....#..##.
..####.#.#.####
####.#....##...
####.#.#.......
####.####.##..#
..###.....#....
##..###.###.##.

.####.###.#..
.####.###.#..
########.###.
#.###.##....#
#...#...#....
....##.#.#..#
.##......####
#...##.....#.
#.##...##..##
####...##.##.
####...##.##.
#.##...##..##
##..##.....#.

#......#.####
.######.#...#
.........####
##....##..#..
.#.##.#..#..#
###..###...#.
..####..#.#..
###..###..##.
........#....
##....###...#
##....###...#
........#.#..
###..###..##.
..####..#.#..
###..###...#.

.##.#.#...#...#
.##.#.#...#.#.#
#.##.####..###.
....#.#.##.####
#..#.#.#.#..###
.##...##.##..##
..##.##...##.#.
..#.#..###.##.#
#####.##....#.#
#...#.#...##.##
#.###......#..#
##..#..###.#.##
..#####..#..###
..#####..#..###
##..#..###.#.##

.##.##.
.#.##.#
#....#.
#....#.
.#.##.#
.##.##.
...####
##....#
#.#.###
.####.#
###..#.
###....
.####.#
#.#.###
##....#
...####
.##.##.

####.#....####..#
####.#....####..#
#..##...##.#..#.#
#..#..######..###
#..#..#.#########
.##..#.#...#.#...
#..###......#.##.
####.#.###...##.#
####.####..#..##.
....##.#.#.......
.##..##..#..#..##
###.#.#..#...####
####.###.###.#.#.

.######
.###..#
.###..#
.######
#..#..#
.#..###
.##..#.
.###...
##.#.#.
.##....
..#..##
.....##
.##....
##.#.#.
.###...

##....#####......
##....##.#..####.
.#....#..##.#..#.
##....##.#.##..##
.#.##.#....#....#
##....######.##.#
###..###.######.#
##....#####.####.
#......##..#....#
#.#..#.#..#.#..#.
.#.##.#...##.##.#
..####..#..#.##.#
.#.##.#.#..#....#

.#.#..###.###
.#.#...##.###
##......####.
#...#.##.#...
##..#.###..#.
.####..#.###.
#...#..#..#..
.####.##..#..
.##..#..#...#
.##..#..#...#
.####.##..#..
#...#..#..#..
.####..#.###.

#...#....#.#.
##.#.#.#.##.#
###.##...#.#.
###.##...#.#.
##.#.#.####.#
#...#....#.#.
..#.######..#
#...#..####..
###..##.##.#.
...#.#.#..#..
...#.#.#..#..
###..##.##.#.
#...#..####..

..#.###
######.
..####.
###...#
###...#
..##.#.
######.
..#.###
..##.##
.....#.
###..##
..####.
######.
##...#.
####...
..#.#..
##.###.

.#..#.###.##...##
..##...#.##....#.
###########....#.
#######...###...#
#....##.#..#....#
#....#.##.#..##.#
.####.#.#.#.....#
.####....##.##..#
##..##..#..####..
.#..#.#...####..#
#.##.##.#.###..#.
#.##.##.#.#.#..#.
.#..#.#...####..#
##..##..#..####..
.####....##.##..#

##..##.##
.#..#....
..##..###
#.##.##..
.......##
..##.....
#....##..
..##...##
#....#.##
#.##.#.##
..##.....
#.##.#...
...#..###

#..##....##..##.#
.###.####.###.###
###..#..#..#####.
.#.##.##.##.#...#
.#.##.##.##.#...#
###..#..#..#####.
.###.####.###.###
#..##....##..##.#
.#.##.##.##.#.#..
....##..##.....##
#....#..#.#..####
.#...####...#.#.#
#.#.#....#.#.##.#
#..##.##.##..#...
#....#..#....##..

#....####
###......
###......
##...####
....#....
.#.#..##.
..###....
##.#.....
...#..##.
#.###.##.
#....####

#..####..#.##.#..
.########..##..##
#........#.##.#..
###.##.###.##.###
###.##.####..####
..##..##........#
..######........#
#.#.##.#.#.##.#.#
.##.##.##.####.##
#.##..##.##..#..#
.#.####.#......#.
....##....####...
.##.##.##......##

..####..##..##..#
...#..##.####.##.
.##.#.##..##..##.
...#..##.####.##.
.##..#..#....#..#
##.##.##########.
#########.##.####

.###..###.#.#.###
###....###..##.#.
###.##.###.#.#.##
###.##.###.#.#.##
###....###..##.#.
.###..###.#.#.###
.#.####.#...#.#..
##.#..#.###...#..
####..###..#.###.
#..####..##.#..#.
#.######.##..#.##
.##.##.##.##..##.
####..######.####
....##.....#.##..
####..#####...###

#...#.#.#...#
#.####.#..#..
#.####.#..#..
#...#.#.#...#
#.#.##...#.##
#####.#.#..#.
#.#....####.#
##.#.#.#####.
#####.##.#..#
....##.#...#.
.#..#...#.#..
#.#.###...##.
...#..##...#.
..##..##...#.
#.#.###...##.
.#..#...#.#..
....##.#...#.`.split('\n\n').map(pattern => pattern.split('\n').map(line => line.split('')));

function transposeArray(array) {
    let result = [];
    for (let i = 0; i < array[0].length; i++) {
        let newRow = [];
        for (let j = 0; j < array.length; j++) {
            newRow.push(array[j][i]);
        }
        result.push(newRow);
    }
    return result;
}

const checkMirror = (array) => {
    let mirrorLine = 0;
    for (let i = 0; i < array.length; i++) {
        if (JSON.stringify(array[i]) === JSON.stringify(array[i + 1])) {
            let offset = 1;
            let isMirrorLine = true;
            while (i - offset >= 0 && i + 1 + offset < array.length) {
                if (JSON.stringify(array[i - offset]) !== JSON.stringify(array[i + 1 + offset])) {
                    isMirrorLine = false
                }
                offset++;
            }
            if (isMirrorLine) mirrorLine = i + 1;
        }
    }
    return mirrorLine;
}

const checkHorizontalLine = (pattern) => {
    return checkMirror(pattern);
}

const checkVerticalLine = (pattern) => {
    const vertArray = transposeArray(pattern);
    return checkMirror(vertArray);
}

let total = 0;

for (const pattern of input) {
    total += checkVerticalLine(pattern) + 100 * checkHorizontalLine(pattern);
}
console.log(total);
